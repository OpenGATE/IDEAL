[directories]
# INPUT_DICOM: top directory for finding DICOM input data
input dicom = .

#INPUT_JOBS: directory where to store temporary job input data
tmpdir jobs = /opt/IDEAL-1.1test/data/work

# PRIMARY OUTPUT_DICOM: obligatory
first output dicom = /opt/IDEAL-1.1test/data/output

# SECONDARY OUTPUT_DICOM: optional
second output dicom = 
#second output dicom = /opt/IDEAL-1.1test/data/mnt/IDEAL_rw/idc_output/development

#LOGGING: where debugging logs are stored
logging = /opt/IDEAL-1.1test/data/logs

#COMMISSIONING: top directory for storing site-specific data (beam models, HLUT tables, ...)
commissioning = /opt/IDEAL-1.1test/data/MedAustronCommissioningData

[mc stats]
# Ranges for the MC stats specification, in the IDC tab
# Statname = min defval max stepsize [default]
# Recommended: stepsize equals min value
# Integer ranges: not larger than 2e9*ncores!
# The lines with the "default" are enabled in the GUI by default (at least one should be enabled)
n minutes per job   =    5        20      10080    5
n ions per beam     =  100   1000000 1000000000  100   default
x pct unc in target =    0.1       1.        99.   0.1
# the following two settings define the behavior in case the user chooses 'x pct unc in target'
# the "max dose" is the the mean dose of the n largest dose values (reduce effect of large flukes)
n top voxels for mean dose max = 100
# the "mean uncertainty" is taken over the the voxels that have a dose larger than some fraction of the "max dose"
dose threshold as fraction in percent of mean dose max = 50.

[simulation]
# obligatory: Gate shell
gate shell environment = /opt/GATE/GateRTion-1.0/bin/gate_env.sh
# obligatory: over how many subjobs can we split the simulation?
number of cores = 12
# physics list is optional, default is QBBC_EMZ
proton physics list = QGSP_BIC_HP_EMZ
ion physics list = Shielding_EMZ
# RBE factor for protons
rbe factor protons = 1.1
# for plans that havea CT and structure set:
# apply a mask on the dose distribution to force dose=0 outside of the external?
remove dose outside external = true
# gamma index calculation parameters
# dta_mm = distance parameter in mm
# dd_percent = relative dose difference parameter in percent
# thr_percent = threshold value in percent (of the max dose in the ref dose image)
# def = gamma value for target voxels with dose values below threshold
gamma index parameters dta_mm dd_percent thr_percent def = 3. 3. 5. -1.
# minimum resolution: this will be used to compute the max number of voxels per dimension
stop on script actor time interval [s] = 300
htcondor next job start delay [s] = 1
minimum dose grid resolution [mm] = 0.1
# choose whether or not to save the intermediate dose distributions to MHD files (for debugging)
write mhd unscaled dose = false
write mhd scaled dose = false
write mhd rbe dose = yes
write mhd physical dose = yes
write mhd plan dose = yes
write dicom rbe dose = yes
write dicom physical dose = yes
write dicom plan dose = yes

[(tmp) correction factors]
default = 1.0
IR2HBL ION_6_12_6 = 1.03
IR2VBL ION_6_12_6 = 1.03
# Lukas reports that we need to *divide* by 1.027
IR2HBL proton = 0.97371
IR2VBL proton = 0.97371
# Lukas reports that we need to *divide* by 1.027
IR3HBL proton = 0.97371


[condor memory]
# how much memory should condor allocate per job?
# Condor uses the unit "MB", which might mean either 1024*1024 bytes or 1000*1000 bytes.
condor memory request minimum [MB] = 7000
condor memory request default [MB] = 8000
condor memory request maximum [MB] = 50000
condor memory fit proton ct = offset 1200 dosegrid 2.5e-05 ct 1.8e-06
condor memory fit proton phantom = offset 500.0 dosegrid 2.0e-05 nspots 0.0060
condor memory fit carbon ct = offset 1800 dosegrid 5e-05 
condor memory fit carbon phantom =  offset 1000.0 dosegrid 8.0e-06
# if e.g. a proton plan gets a dose grid of 200*200*200=8e6 voxels and a ct with 16e6 voxels
# then the memory fit gives 1200 + 8e6*2.5e-5 + 16e6 * 1.8e-6 = 1428.8 MB estimated max RAM usage

[materials]
# material data base is optional
# if specified here, it be the basename of a file in the "material" subdirectory to the commissioning directory
# default is GateMaterials.db
materials database = GateMaterials.db
# Optional: density tolerance, default is 0.01. Warning: if you use 0.001 for Carbons + Shielding (QMD) that will require >8GiB RAM!
hu density tolerance [g/cm3] = 0.01
# NIST materials and their densities
# TODO: get densities [g/cm3] from the G4 and GATE databases
# There are actually more that 300 materials defined in geant4
# I randomly picked a couple that seemed relevant for radiotherapy
G4_WATER = 1.0
G4_AIR = 0.00120479
G4_GRAPHITE = 2.21
G4_STAINLESS-STEEL = 8.0
G4_ALANINE = 1.42
PMMA = 1.195
Tungsten = 19.3
G4_Ti = 4.54
SoftTissus_106_t = 1.07441
SoftTissus_105_t = 1.0676
SoftTissus_104_t = 1.05911
AT_AG_SI1_91_t = 0.939974
AT_AG_SI1_90_t = 0.930189
Marrow_Bone04_132_t = 1.30005
Marrow_Bone01_115_t = 1.14207
Lung_57_t = 0.602916
Lung_63_t = 0.662602
Lung_62_t = 0.652655
SoftTissus_104_t2 = 1.05218
SoftTissus_105_t2 = 1.06363
SoftTissus_107_t = 1.07651
AT_AG_SI2_92_t = 0.955236

[user roles]
# username, alias1, alias2, ... = role
# The aliases can be used to identify (e.g. linux login name), but they will always be converted to the first listed "username".
# Possible values for "role" are: clinical, admin, commissioning.
FAV, fava = clinical
FAV_C, fava_commissioning = commissioning
FAV_A, fava_admin = admin
AR6, aresch = clinical
ARC, ARC = commissioning
